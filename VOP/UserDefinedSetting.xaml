<Window x:Class="VOP.UserDefinedSetting"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="UserDefinedSetting" Height="520" Width="330"        
        WindowStartupLocation="CenterScreen"  
        ResizeMode="NoResize"
        WindowStyle="None"
        xmlns:local="clr-namespace:VOP.Controls"
        xmlns:mycontrol="clr-namespace:VOP" >
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="Controls/CustomButton.xaml"/>
                <ResourceDictionary Source="Controls/CustomTextBox.xaml"/>
            </ResourceDictionary.MergedDictionaries>
            <Style x:Key="customComboBoxItem"
        		TargetType="{x:Type ComboBoxItem}">
                <Setter Property="SnapsToDevicePixels"
        			Value="true" />
                <Setter Property="OverridesDefaultStyle"
        			Value="true" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type ComboBoxItem}">
                            <Border x:Name="Border"
        						Padding="15,0"
        						SnapsToDevicePixels="true"
        						Background="Transparent">
                                <ContentPresenter />
                            </Border>

                            <ControlTemplate.Triggers>
                                <Trigger Property="IsSelected" Value="True">
                                    <Setter TargetName="Border" Property="Background" Value="#ffa8a6a6"/>
                                </Trigger>

                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="Border" Property="Background"
        								Value="Green"/>
                                </Trigger>

                                <Trigger Property="IsEnabled" Value="false">
                                    <Setter TargetName="Border" Property="Background"
        								Value="Blue"/>
                                </Trigger>

                                <Trigger Property="IsEnabled" Value="false">
                                    <Setter Property="Foreground"
        								Value="Yellow"/>
                                </Trigger>

                            </ControlTemplate.Triggers>
                        </ControlTemplate>


                    </Setter.Value>
                </Setter>
            </Style>
            <Style x:Key="customToggle" TargetType="{x:Type ToggleButton}">
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type ToggleButton}">
                            <Grid>

                                <Border x:Name="border1" Background="{TemplateBinding Background}">
                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>

                                <Path 
        							HorizontalAlignment="Right"
        							VerticalAlignment="Center"
        							x:Name="BtnArrow" Height="4" Width="8" 
        							Stretch="Uniform" Margin="0,0,6,0"
        							Fill="#ff818181"
        							Data="F1 M 300,-190L 310,-190L 305,-183L 301,-190 Z " />
                            </Grid>

                            <ControlTemplate.Triggers>
                                <Trigger Property="IsChecked" Value="True">
                                    <Setter TargetName="border1" Property="Background" Value="#fff7f7f7"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>

            </Style>
            <mycontrol:ScrollViewerWidthConverter x:Key="objScrollViewerWidthConverter"/>
            <Style x:Key="customComboBox2" TargetType="{x:Type ComboBox}">
                <Setter Property="Foreground" Value="#ff494949" />
                <Setter Property="FontSize" Value="13px" />
                <Setter Property="FontFamily" Value="Microsoft YaHei" />

                <Setter Property="Template">
                    <Setter.Value>

                        <ControlTemplate TargetType="{x:Type ComboBox}">
                            <Grid x:Name="root">

                                <ToggleButton x:Name="DropDownToggle"
        							Style="{StaticResource customToggle}"
        							BorderBrush="Transparent"
        							Background="{TemplateBinding Background}"
        							HorizontalAlignment="Stretch" VerticalAlignment="Stretch"  
        							Margin="-1" HorizontalContentAlignment="Right"
        							IsChecked="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"
                                />

                                <Grid 
        							Background="{TemplateBinding Background}"
        							IsHitTestVisible="False"
        							HorizontalAlignment="Left"
        							x:Name="grid1"
                                >
                                    <Grid.Width>
                                        <MultiBinding Converter="{StaticResource objScrollViewerWidthConverter}">
                                            <Binding ElementName="root" Path="ActualWidth"/>
                                            <Binding ElementName="DropDownToggle" Path="ActualHeight"/>
                                        </MultiBinding>
                                    </Grid.Width>

                                    <ContentPresenter x:Name="ContentPresenter" 
        								VerticalAlignment="Center"
        								Content="{TemplateBinding SelectionBoxItem}"
        								ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
        								ContentTemplateSelector="{TemplateBinding ItemTemplateSelector}"/>
                                </Grid>

                                <Popup x:Name="PART_Popup"
        							AllowsTransparency="True"
        							IsOpen="{TemplateBinding IsDropDownOpen}">
                                    <Border x:Name="PopupBorder" Margin="16">

                                        <Border.Effect>
                                            <DropShadowEffect Color="Black" ShadowDepth="0"
        										BlurRadius="16" Opacity="0.75" Direction="90"/>
                                        </Border.Effect>

                                        <StackPanel>
                                            <Path 
        										Panel.ZIndex="1"
        										HorizontalAlignment="Center"
        										Fill="White"
        										Data="F1 M0,10 L10,0 L20,10z" />

                                            <Border 
        										BorderBrush="Transparent"
        										Background="White"
        										Panel.ZIndex="0"
        										CornerRadius="5">
                                                <ItemsPresenter/>
                                            </Border>

                                        </StackPanel>

                                    </Border>
                                </Popup>

                            </Grid>

                            <ControlTemplate.Triggers>
                                <Trigger Property="IsEnabled" Value="false">
                                    <Setter Property="Foreground" Value="Red"/>
                                    <Setter TargetName="DropDownToggle" Property="Background" Value="Yellow"/>
                                    <Setter TargetName="grid1" Property="Background" Value="Yellow"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <SolidColorBrush x:Key="border_Brush">#9B9B9B</SolidColorBrush>
            <LinearGradientBrush x:Key="mainBackground_Brush" EndPoint="0.5,1" StartPoint="0.5,0">
                <GradientStop Color="#FFEEEDED" Offset="0"/>
                <GradientStop Color="#FFEBEAEA" Offset="0.436"/>
                <GradientStop Color="#FFE4E3E3" Offset="1"/>
            </LinearGradientBrush>
            <ControlTemplate x:Key="customCheckBox" TargetType="{x:Type CheckBox}" >
                <Grid Width="{TemplateBinding Width}"
            		Height="{TemplateBinding Height}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="27"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <Ellipse Grid.Column="0" 
            			x:Name="elp1" 
            			HorizontalAlignment="Center" 
            			VerticalAlignment="Center" 
            			StrokeThickness="1"  
            			Height="18" 
            			Width="18" 
            			Stroke="#FFA6ACA1">
                        <Ellipse.Fill>
                            <RadialGradientBrush>
                                <GradientStop Color="#FFDCECD0" Offset="0.1"/>
                                <GradientStop Color="#FFD1E9BE" Offset="1"/>
                            </RadialGradientBrush>
                        </Ellipse.Fill>
                    </Ellipse>
                    <Ellipse Grid.Column="0" 
            			x:Name="elp2" 
            			HorizontalAlignment="Center" 
            			VerticalAlignment="Center" 
            			StrokeThickness="4" 
            			Stroke="#FF449C00" 
            			Height="9" 
            			Width="9">
                        <Ellipse.Effect>
                            <BlurEffect Radius="3" />
                        </Ellipse.Effect>
                    </Ellipse>

                    <TextBlock Grid.Column="1"
            			VerticalAlignment="Center"
            			HorizontalAlignment="{TemplateBinding HorizontalAlignment}"
            			Text="{TemplateBinding Content}"
            			FontSize="{TemplateBinding FontSize}"
            			Foreground="{TemplateBinding Foreground}" 
                        />
                </Grid>
                <ControlTemplate.Triggers>
                    <Trigger Property="IsChecked" Value="false">
                        <Setter TargetName="elp1" Property="Fill">
                            <Setter.Value>
                                <RadialGradientBrush>
                                    <GradientStop Color="#FFFFFFFF" Offset="0.1"/>
                                    <GradientStop Color="#FFCFCFCF" Offset="1"/>
                                </RadialGradientBrush>
                            </Setter.Value>
                        </Setter>
                        <Setter TargetName="elp2" Property="Stroke" Value="#FF4D4D4D" />
                    </Trigger>

                    <Trigger Property="IsChecked" Value="True">
                        <Setter TargetName="elp1" Property="Fill">
                            <Setter.Value>
                                <RadialGradientBrush>
                                    <GradientStop Color="#FFDCECD0" Offset="0.1"/>
                                    <GradientStop Color="#FFD1E9BE" Offset="1"/>
                                </RadialGradientBrush>
                            </Setter.Value>
                        </Setter>
                        <Setter TargetName="elp2" Property="Stroke" Value="#FF4BAD00" />

                    </Trigger>
                </ControlTemplate.Triggers>
            </ControlTemplate>
            <ControlTemplate x:Key="customRadioButton" TargetType="{x:Type RadioButton}" >
                <Grid Width="{TemplateBinding Width}"
            		Height="{TemplateBinding Height}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="27"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <Ellipse Grid.Column="0" 
            			x:Name="elp1" 
            			HorizontalAlignment="Center" 
            			VerticalAlignment="Center" 
            			StrokeThickness="1"  
            			Height="18" 
            			Width="18" 
            			Stroke="#FFA6ACA1">
                        <Ellipse.Fill>
                            <RadialGradientBrush>
                                <GradientStop Color="#FFDCECD0" Offset="0.1"/>
                                <GradientStop Color="#FFD1E9BE" Offset="1"/>
                            </RadialGradientBrush>
                        </Ellipse.Fill>
                    </Ellipse>
                    <Ellipse Grid.Column="0" 
            			x:Name="elp2" 
            			HorizontalAlignment="Center" 
            			VerticalAlignment="Center" 
            			StrokeThickness="4" 
            			Stroke="#FF449C00" 
            			Height="9" 
            			Width="9">
                        <Ellipse.Effect>
                            <BlurEffect Radius="3" />
                        </Ellipse.Effect>
                    </Ellipse>

                    <TextBlock Grid.Column="1"
            			VerticalAlignment="Center"
            			HorizontalAlignment="{TemplateBinding HorizontalAlignment}"
            			Text="{TemplateBinding Content}"
            			FontSize="{TemplateBinding FontSize}"
            			Foreground="{TemplateBinding Foreground}" 
                        />
                </Grid>
                <ControlTemplate.Triggers>
                    <Trigger Property="IsChecked" Value="false">
                        <Setter TargetName="elp1" Property="Fill" Value="#FFEFEFEF"/>
                        <Setter TargetName="elp2" Property="Visibility" Value="Hidden" />
                    </Trigger>

                    <Trigger Property="IsChecked" Value="True">
                        <Setter TargetName="elp1" Property="Fill">
                            <Setter.Value>
                                <RadialGradientBrush>
                                    <GradientStop Color="#FFDCECD0" Offset="0.1"/>
                                    <GradientStop Color="#FFD1E9BE" Offset="1"/>
                                </RadialGradientBrush>
                            </Setter.Value>
                        </Setter>
                        <Setter TargetName="elp2" Property="Visibility" Value="Visible" />

                    </Trigger>
                </ControlTemplate.Triggers>
            </ControlTemplate>
        </ResourceDictionary>
    </Window.Resources>
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="5*"/>
            <ColumnDefinition Width="44*"/>
            <ColumnDefinition Width="5*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="40"></RowDefinition>
            <RowDefinition Height="25*"></RowDefinition>
            <RowDefinition Height="85*"/>
            <RowDefinition Height="70*"/>
            <RowDefinition Height="138*"/>
            <RowDefinition Height="162*"/>
        </Grid.RowDefinitions>

        <Grid Grid.Row="0" Background="#FF1F3345" Grid.ColumnSpan="3" Margin="0,0,0.111,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition/>
                <ColumnDefinition Width="30"></ColumnDefinition>
            </Grid.ColumnDefinitions>
            <TextBlock Grid.Column="0" Text="用户自定义设置" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="White" FontSize="18" Height="24" Margin="100,8,74,8" Width="126"/>
        </Grid>
        <Grid Grid.Row="1" Background="#FFE7E7E7" Grid.ColumnSpan="3" Grid.RowSpan="5" Margin="0,0,0.111,0">
            <Grid.RowDefinitions>
                <RowDefinition Height="4*"></RowDefinition>
                <RowDefinition Height="6*"></RowDefinition>
                <RowDefinition Height="4*"></RowDefinition>
            </Grid.RowDefinitions>

            <Button Name="btnOK" Grid.Row="2" Template="{StaticResource custombtn}" IsDefault="True" Content="确 定" FontSize="18" HorizontalAlignment="Center" Height="34" Width="110" VerticalAlignment="Center" RenderTransformOrigin="0.55,1.833" Margin="115,93,104.889,10"/>
        </Grid>
        <local:GroupBoxDecorator Header="自定义纸张大小名称" Margin="0.444,2,0.556,4" Grid.Row="2" Grid.Column="1">
            <local:GroupBoxDecorator.Foreground>
                <SolidColorBrush Color="{DynamicResource {x:Static SystemColors.ControlDarkDarkColorKey}}"/>
            </local:GroupBoxDecorator.Foreground>
        </local:GroupBoxDecorator>
        <ComboBox
        	Style="{StaticResource customComboBox2}"
        	Background="White"
        	Margin="30.444,35,12.556,14" Grid.Row="2" Grid.Column="1"
                    >
            <ComboBoxItem Style="{StaticResource customComboBoxItem}"  IsSelected="true" Content="自定义尺寸01" />

        </ComboBox>
        <Border x:Name="borderContainer" Grid.Row="3" Background="White" Margin="0.444,10,1,2" CornerRadius="15" Grid.Column="1">
            <Border.Effect>
                <DropShadowEffect BlurRadius="10" Color="#FF858484" Direction="292" ShadowDepth="1" Opacity="0.3"/>
            </Border.Effect>
        </Border>
        <TextBlock Text="单位：" Grid.Row="3" Grid.Column="1" HorizontalAlignment="Center" VerticalAlignment="Center" Width="40" FontSize="13" Margin="34.444,30,194.556,20" Height="20" FontWeight="Bold">
            <TextBlock.Foreground>
                <SolidColorBrush Color="{DynamicResource {x:Static SystemColors.ControlDarkDarkColorKey}}"/>
            </TextBlock.Foreground>
        </TextBlock>
        <TextBlock Text="宽度（76.2-216.0）" Grid.Row="4" Grid.Column="1" HorizontalAlignment="Center" VerticalAlignment="Center" Width="146" FontSize="18" Foreground="#FF7A7A7A" Margin="0.444,36,122.556,78" Height="24"/>
        <TextBox x:Name="tbWidth" Template="{StaticResource customTextBox}" Grid.Column="1" VerticalAlignment="Center" Grid.Row="4" Margin="160.444,30,1,78" Height="30" MaxLength="11" />
        <TextBlock Text="高度（116.0-355.6）" Grid.Row="4" Grid.Column="1" HorizontalAlignment="Center" VerticalAlignment="Center" Width="146" FontSize="18" Foreground="#FF7A7A7A" Margin="0.444,92,122.556,22" Height="24"/>
        <TextBox x:Name="tbHeight" Template="{StaticResource customTextBox}" Grid.Column="1" VerticalAlignment="Center" Grid.Row="4" Margin="160.444,86,1,22" Height="30" MaxLength="11" />
        <Button HorizontalContentAlignment="Center" IsDefault="False"
        	Content="删 除" Template="{StaticResource custombtn}"
        	Height="34" Width="110" FontSize="18" Margin="149.444,11,20.111,117" Grid.Row="5" Grid.Column="1" HorizontalAlignment="Center" VerticalAlignment="Center" Grid.ColumnSpan="2" />
        <Button HorizontalContentAlignment="Center" VerticalAlignment="Bottom" IsDefault="False"
        	Content="保 存" Template="{StaticResource custombtn}"
        	Height="34" Width="110" FontSize="18" Margin="1.444,0,137.556,118" Grid.Row="5" Grid.Column="1" HorizontalAlignment="Center" />
        <Button HorizontalContentAlignment="Center" IsDefault="False"
        	Content="取 消" Template="{StaticResource custombtn}"
        	Height="34" Width="110" FontSize="18" Margin="74.444,62,64.556,66" Grid.Row="5" Grid.Column="1" HorizontalAlignment="Center" VerticalAlignment="Center" />
        <RadioButton GroupName="Goup1" IsChecked="True" Content="毫米" Template="{StaticResource customRadioButton}" Margin="95.444,29,109.556,22" Grid.Column="1" Grid.Row="3">
            <RadioButton.Foreground>
                <SolidColorBrush Color="{DynamicResource {x:Static SystemColors.ControlDarkDarkColorKey}}"/>
            </RadioButton.Foreground>
        </RadioButton>
        <RadioButton GroupName="Goup1" Content="英寸"  Template="{StaticResource customRadioButton}" Margin="175.444,29,29.556,22" Grid.Column="1" Grid.Row="3">
            <RadioButton.Foreground>
                <SolidColorBrush Color="{DynamicResource {x:Static SystemColors.ControlDarkDarkColorKey}}"/>
            </RadioButton.Foreground>
        </RadioButton>
    </Grid>
</Window>